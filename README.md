# Multi-Company Payment API Documentation

## نظرة عامة

هذا المجلد يحتوي على التوثيق الكامل لـ Multi-Company Payment API في شكل صفحة ويب تفاعلية. الصفحة مصممة لتكون مرجعاً شاملاً للمطورين الذين يريدون استخدام API.

## محتويات المجلد

### الملفات الأساسية

- **`index.html`** - الصفحة الرئيسية للتوثيق
- **`styles.css`** - ملف التصميم والأنماط
- **`script.js`** - ملف JavaScript للوظائف التفاعلية
- **`README.md`** - هذا الملف (دليل الاستخدام)

## المميزات

### 🎨 تصميم متجاوب وجميل
- تصميم حديث ومتجاوب يعمل على جميع الأجهزة
- ألوان متدرجة وتأثيرات بصرية جذابة
- دعم كامل للغة العربية مع اتجاه RTL
- خط Cairo الجميل من Google Fonts

### 📚 توثيق شامل
- **نظرة عامة** على النظام ومميزاته
- **الشركات المدعومة** مع تفاصيل كل شركة
- **توثيق API** مع نماذج الإدخال والإخراج
- **أمثلة عملية** لكل نوع من أنواع الطلبات
- **رموز الحالة** وشرح معانيها
- **الحدود والإرشادات** للاستخدام الأمثل

### 🧪 اختبار API مباشر
- نموذج تفاعلي لاختبار API
- **تبديل بين النماذج و JSON** - اختر طريقة الإدخال المفضلة
- إدخال البيانات بسهولة
- عرض الاستجابات بتنسيق JSON
- محاكاة استجابات مختلفة حسب نوع الشركة
- إمكانية نسخ الطلبات والاستجابات
- **تنسيق وتحقق من JSON** تلقائياً

### ⚡ وظائف تفاعلية
- نسخ الكود بنقرة واحدة
- تنقل سلس بين الأقسام
- قائمة تنقل متجاوبة للهواتف
- رسائل تأكيد عند النسخ
- تحديث تلقائي للتاريخ والوقت
- **🎉 تأثيرات احتفالية** - كونفيتي ورسوم متحركة
- **🎮 تفاعل ممتع** - بطاقات قابلة للنقر مع تأثيرات
- **🎵 تأثيرات صوتية** - أصوات تفاعلية (اختيارية)

## كيفية الاستخدام

### 1. فتح الصفحة محلياً
```bash
# افتح الملف مباشرة في المتصفح
open index.html
# أو
start index.html
```

### 2. رفع على GitHub Pages
1. ارفع المجلد إلى مستودع GitHub
2. اذهب إلى Settings > Pages
3. اختر المجلد كمصدر للصفحات
4. ستحصل على رابط مثل: `https://username.github.io/repository-name/docs/`

### 3. رفع على خدمة استضافة أخرى
يمكن رفع الملفات على أي خدمة استضافة ويب مثل:
- Netlify
- Vercel
- GitHub Pages
- Firebase Hosting

## الشركات المدعومة

| الشركة | معرف المنتج | النوع | طريقة المعالجة |
|--------|-------------|-------|----------------|
| Bitakat | 50 | بطاقات دفع | API مباشر |
| MTS | 32 | خدمات الاتصالات | API مباشر |
| Inet | 47 | خدمات الإنترنت | API مباشر |
| Takamol | 45 | خدمات التحويل | API مباشر |
| Lema | 148 | خدمات الشبكة | API مباشر |
| Linet | 46 | خدمات الربط | API مباشر |
| SCS | 33 | خدمات الاتصالات | API مباشر |
| **sawa** | **29** | **خدمات الاتصالات** | **Chrome Driver** ✅ |
| Syriatel | 30 | خدمات الاتصالات | المتصفح (صيانة) |
| Pro Net | 60 | خدمات الإنترنت | قيد التطوير |

### ✅ ملاحظة خاصة حول شركة sawa (تم إصلاحها)

🎉 **شركة sawa تعمل الآن بشكل مثالي**: تم إصلاح جميع المشاكل وتحسين الأداء بشكل كبير. الآن شركة sawa:

- ✅ **تعمل بشكل مستقر**: تم حل جميع المشاكل التقنية
- ✅ **تكتشف الأرقام الخاطئة**: تتحقق من صحة الرقم قبل المعالجة
- ✅ **تتعامل مع الديون بذكاء**: تطبق قواعد دقيقة للتحقق من الديون
- ✅ **رسائل واضحة**: ترسل رسائل مفصلة من الصفحة مباشرة
- ✅ **توحيد الرسائل**: رسالة "المبلغ المطلوب" موحدة مع باقي الشركات
- ⚡ **أداء محسن**: تم تحسين السرعة والاستقرار في بيئة Apify

## نموذج الطلب

```json
{
  "id": 587193,
  "amount": "38000",
  "number": "2235078",
  "code": null,
  "product": 50,
  "type": "4 MB",
  "date": "2025-08-07T16:06:33.000000Z"
}
```

## نموذج الاستجابة

```json
{
  "id": 587193,
  "amount": "38000",
  "number": "2235078",
  "code": null,
  "product": 50,
  "type": "4 MB",
  "date": "2025-08-07T16:06:33.000000Z",
  "status": 1,
  "message": "تم الدفع بنجاح",
  "execution_time_seconds": 2.456,
  "execution_time_ms": 2456.0
}
```

## الميزات الجديدة

### 🎉 إصلاح شامل لشركة sawa (أغسطس 2025)

**تم إصلاح جميع مشاكل شركة sawa وتحسين أدائها بشكل كبير**

#### ✅ التحسينات المطبقة:
- **🔍 التحقق من صحة الرقم**: يكتشف الأرقام الخاطئة قبل المعالجة
- **💰 معالجة الديون الذكية**: تطبيق قواعد دقيقة للتحقق من الديون
- **📝 رسائل واضحة**: قراءة الرسائل مباشرة من صفحة الويب
- **🔄 توحيد الرسائل**: رسالة "المبلغ المطلوب" موحدة مع باقي الشركات
- **⚡ أداء محسن**: تحسين السرعة والاستقرار

### 🎮 ميزات تفاعلية جديدة (أغسطس 2025)

**تجربة مستخدم محسنة مع ميزات تفاعلية ممتعة**

تم إضافة ميزات تفاعلية جديدة لجعل التوثيق أكثر متعة:
- 🎉 تأثيرات الاحتفال والكونفيتي
- 🔄 تبديل بين النماذج و JSON
- ✨ رسوم متحركة تفاعلية
- 🎵 تأثيرات صوتية (اختيارية)

## حقول الاستجابة

### الحقول الأساسية
- **status** - رمز حالة العملية (1-4)
- **message** - رسالة توضيحية بالعربية
- **execution_time_seconds** - وقت التنفيذ بالثواني
- **execution_time_ms** - وقت التنفيذ بالميلي ثانية

### الحقول المرجعة من الطلب
- **id** - معرف الطلب
- **amount** - المبلغ
- **number** - رقم الهاتف
- **product** - معرف المنتج/الشركة
- **type** - نوع المنتج
- **date** - تاريخ الطلب

## رموز الحالة

- **1** - تم الدفع بنجاح ✅
- **2** - خطأ الرقم أو الشركة ❌
- **3** - فشل في عملية الدفع (خطأ تقني، تكرار، إلخ) ⚠️
- **4** - المبلغ المطلوب أكبر (يتم إرسال المبلغ المطلوب في الرسالة) 💰

## الحدود والقيود

- **معدل الطلبات**: 100 طلب/دقيقة
- **مهلة الاستجابة**: 30 ثانية
- **حجم البيانات**: 10 KB حد أقصى
- **إعادة المحاولة**: 3 مرات في حالة الفشل

## الميزات التفاعلية الجديدة

### 🎮 كيفية الاستخدام

#### تبديل أنماط الإدخال
- **نموذج**: استخدم القوائم المنسدلة والحقول التقليدية
- **JSON**: أدخل البيانات مباشرة بصيغة JSON مع تحقق تلقائي

#### الميزات التفاعلية
- **انقر على بطاقات التحسينات** لتفعيل تأثيرات مختلفة
- **اضغط "احتفل معنا!"** لتشغيل عرض الكونفيتي
- **استمتع بالرسوم المتحركة** التي تظهر عند التمرير

#### أدوات JSON
- **تنسيق**: ينظم JSON تلقائياً
- **تحقق**: يتأكد من صحة البيانات
- **مثال**: ينشئ نموذج JSON جاهز

## التخصيص

### تغيير الألوان
يمكن تغيير الألوان الأساسية في ملف `styles.css`:

```css
:root {
  --primary-color: #667eea;
  --secondary-color: #764ba2;
  --success-color: #28a745;
  --warning-color: #ffc107;
  --error-color: #dc3545;
}
```

### إضافة شركات جديدة
1. أضف الشركة في قسم "الشركات المدعومة" في `index.html`
2. أضف معرف المنتج في قائمة الاختيار في قسم "اختبار API"
3. أضف الاستجابة المحاكاة في `script.js` في دالة `simulateAPICall`

### تخصيص النصوص
جميع النصوص موجودة في ملف `index.html` ويمكن تعديلها بسهولة.

## المتطلبات التقنية

- متصفح حديث يدعم ES6+
- اتصال بالإنترنت لتحميل الخطوط والأيقونات
- لا يتطلب خادم ويب (يعمل كملفات ثابتة)

## الدعم والمساعدة

إذا واجهت أي مشاكل أو لديك اقتراحات للتحسين:

1. تأكد من أن جميع الملفات في نفس المجلد
2. تأكد من اتصالك بالإنترنت لتحميل الخطوط
3. جرب فتح الصفحة في متصفح مختلف
4. تحقق من وحدة تحكم المطور للأخطاء

## الترخيص

هذا التوثيق مفتوح المصدر ويمكن استخدامه وتعديله بحرية.

---

**ملاحظة**: هذا التوثيق مصمم ليكون مرجعاً شاملاً ومفيداً للمطورين. إذا كان لديك اقتراحات للتحسين، لا تتردد في تطبيقها!
